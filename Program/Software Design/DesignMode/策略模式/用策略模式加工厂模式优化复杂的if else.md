# 用策略模式加工厂模式优化复杂的if else

## reference

> https://mp.weixin.qq.com/s/pelNgwf4jgV3TOKB3xPBDA

以用户结账为例，对于不同的会员等级需要使用不同的策略来计算价格。

对于这种情况，我们可以用策略模式来获取计算价格的策略类。

但不足之处是我们仍然需要根据不同的用户等级来获取策略类。这里我们可以引入工厂类来解决。

工厂类设置了一个map，用户等级对应相应的策略类。这样就可以通过用户等级来获取策略类。

在策略类初始化时就可以将类的实例化注册到工厂类中。