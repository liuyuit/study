# 单词查找树

我们可以开发一个更通用的算法，便于以字符串作为被查找的键。

##### 以字符串为键的符号表的API

| StringST        |                                         |
| --------------- | --------------------------------------- |
| StringST        | 创建一个符号表                          |
| put             | 向表中插入键值对                        |
| get             |                                         |
| delete          |                                         |
| contains        | 表中是否保存着key的值                   |
| isEmpty         | 符号表是否为空                          |
| longestPrefixOf | s 的前缀中最长的键                      |
| keysWithPrefix  | 所有以 s 为前缀的键                     |
| keysThatMatch   | 所有和 s 匹配的键（‘.’ 能匹配所有字符） |
| size            | 键值对的数量                            |
| keys            | 符号表中的所有键                        |

对于大型的字母表将会消耗太多的内存，需要再加一个构造函数用于指定字母表。

## 单词查找树

我们需要学习一种叫单词查找树的结构，它由字符串键中的所有字符构造而成，允许使用被查找键中的字符进行查找。这个数据结构的作用是去除数据。

#### 基本性质

单词查找树由链接的结点组成。每一个结点都有 R 条链接。R 为字母表的大小。但每个结点都只有一条指向它的链接，除了根节点。尽管指向的是结点，但也可以看做是以指向的结点为根节点的另一个单词查找树。因为每条链接都只能指向一个结点。所以可以用链接所对应的字符标记指向的结点。

#### 单词查找树的查找操作

单词查找树的每一个结点都有 R 条链接指向了字母表中的所有字符。查找时从根结点出发，先找到首字母所在的结点。再找该结点指向的下一个字符所对应的结点。最后一个结点如果储存了值，则代表查找命中，否则不命中。

#### 单词查找树的插入操作

和二叉查找树一样，插入操作需要先进行一次查找。这意味着沿着被查找的键到达尾字符的结点或者一个空链接，可能会有以下两种情况。

- 到达尾字符之前就遇到一个空链接。需要沿着链接设置结点，到达表示尾字符的结点之后再设置键表示的值。
- 没有遇到空链接。直接在表示尾字符的结点设置值。

#### 结点的表示

数据结构需要将空链接表示出来。

- 每个结点都有 R 个链接，表示所有可能出现的字符。
- 字符和键均隐式地保存在数据结构中

#### 大小

- 即时实现：用一个变量保存键的数量
- 更加即时的实现：用结点的实例变量保存键的数量
- 延时递归实现：遍历所有结点，并记录所有非空结点的总数。

#### 基于单词查找数的符号表