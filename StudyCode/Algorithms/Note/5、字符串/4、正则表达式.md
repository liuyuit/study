# 正则表达式

有时候，在查找子字符串时并没有被查找模式的完整信息。而是希望找到多个符合某种特征的子字符串。

## 使用正则表达式描述模式

重点是模式的描述。它由三种基本操作和操作符组成

#### 连接操作

例如 AB，则指定了 {AB}.由 A 和 B 连接而成。

#### 或操作

A|B 指定的语言是 {A, B}。连接操作的优先级高于或操作，因此 AB|BCD 指定的语言是 {AB, BCD}

#### 闭包操作

闭包操作可以将模式的部分重复任意的次数。模式的闭包是由将模式和自身连接任意多次（包括 0 次）而得到的所有字符串组成的语言。我们将 ‘’*“标记在需要被重复的模式之后，以表示闭包。闭包的优先级高于连接，因此 AB\* 表示由一个 A 和 0 个或多个 B组成的字符串。A\*B 表示由 0 个或多个 B 和一个 A 组成的字符串。

#### 括号

默认的操作符顺序是 闭包 》 链接 》 或。而括号可以改变默认的顺序。例如 C(AC|B)D 指定的语言是 {CACD, CBD}。

## 缩略写法

一般的应用程序对正则有额外的规则。但它们都只是涉及到多个操作数一系列操作的缩略写法。

#### 字符集描述符

字符集描述符就是用一个或多个字符来表示一个字符集合。例如 “.” 是一个能够表示任意字符的通配符。[] 方括号表示方括号内的任意一个字符，可以表示一个范围。^ 在方括号内开头表示任意非括号内的字符。

#### 闭包的简写

闭包运算符表示将他的操作数重复任意多次。我们用 “+” 表示至少复制一次。 “？” 表示复制 0 次或 1 次。用写在 “{} ” 内的数或范围来指定重复的次数。

#### 转义序列

一个转义序列可以是一个反斜杠 “\” 加上单个元字符，和元字符区别开来，用来表示它自身。例如 ”\ \“

表示的就是 ”\“,其他转义字符表示了特殊字符和空白字符。例如 "\t"制表符， "\n"换行符，"\s" 任意空白字符。

## 正则表达式的实际应用

正则表达式善于描述与语言有关的内容。

#### 子字符串查找

判断给定子字符串是否包含在给定正则表达式所描述的字符串集合中。要在 txt 中查找一个字符串 pat，就是检查 txt 是否存在于 ”.* pat .*“ 所描述的语言（字符串集合）中。

#### 合法性检查

正则表达式可以检查你的输入是否合法。例如输入的邮箱地址是否合法等。

#### 程序员的工具箱

正则表达式的起源是 Unix 的命令 grep 。

```
$ grep all *.php
usercheck.php:	//get all value except sign
usercheck.php:	$infoArr[] = 'callback';
```

#### 基因组

人类基因序列某个区域可以 用 gcg(cgg)*ctg  来表示。

#### 搜索

互联网搜索引擎都支持正则表达式

#### 正则表达式的可能性

/(0|1(01*0)*1)*/ 描述的所有由 0 和 1 组成的字符串都是 3 的倍数的二进制表示。

#### 局限

并不是所有语言都可以用正则表达式定义。例如不存在能够描述所有合法正则表达式集合的正则表达式。

## 非确定有限状态自动机

没看懂 // fixme

## 模拟 NFA 的运行

#### 自动机的表示

用有向图表示。

#### NFA 的模拟与可达性

## 构造与正则表达式对应的 NFA

弃之 // todo try aging later