# 表分区简单介绍

## references

> https://www.jianshu.com/p/2084216e81ce

分区只是在表里把数据分块了

创建分区表

```
CREATE TABLE `sdk_login` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `datadate` datetime NOT NULL COMMENT '日期',
  `timer` int(11) NOT NULL DEFAULT '0' COMMENT '日期(时间戳格式)',
  `aid` varchar(100) NOT NULL DEFAULT '0' COMMENT '广告id',
  `atype` varchar(32) NOT NULL DEFAULT 'nature' COMMENT '渠道标识,nature自然量',
  `cid` varchar(100) NOT NULL DEFAULT '0' COMMENT '渠道id',
  `ctype` varchar(32) NOT NULL DEFAULT 'xyoffical' COMMENT '渠道标识,xyoffical,官方渠道',
  `lid` varchar(100) NOT NULL DEFAULT '0' COMMENT '链接id',
  `ad_adid` varchar(50) NOT NULL DEFAULT '0' COMMENT '广告计划id',
  `ad_cid` varchar(50) NOT NULL DEFAULT '0' COMMENT '广告创意id',
  `gid` int(11) NOT NULL DEFAULT '0' COMMENT '游戏id',
  `c_uid` varchar(64) NOT NULL DEFAULT '' COMMENT '渠道用户uid',
  `c_username` varchar(64) NOT NULL DEFAULT '' COMMENT '渠道用户名',
  `s_uid` char(32) NOT NULL DEFAULT '' COMMENT '平台唯一ID',
  `equipmentid` varchar(255) NOT NULL DEFAULT '' COMMENT 'idfv，新下载或重新安装APP标识',
  `equipmentidfv` varchar(64) NOT NULL DEFAULT '' COMMENT '用户IP',
  `type` tinyint(1) NOT NULL DEFAULT '1' COMMENT '系统类型，1：android,2:ios',
  `ip` varchar(128) NOT NULL,
  `jsondata` text COMMENT '扩展字段',
  `keep` int(11) NOT NULL DEFAULT '1' COMMENT '注册到当前登录的时间(天)',
  `cps_id` int(11) NOT NULL DEFAULT '0' COMMENT '公会推广数据id',
  PRIMARY KEY (`id`,`datadate`),
  UNIQUE KEY `ukey` (`datadate`,`aid`,`cid`,`gid`,`c_uid`,`equipmentidfv`) USING BTREE,
  KEY `datadate` (`datadate`),
  KEY `cid` (`cid`),
  KEY `ctype` (`ctype`),
  KEY `gid` (`gid`),
  KEY `aid` (`aid`),
  KEY `keep` (`keep`),
  KEY `idfv` (`equipmentid`),
  KEY `c_uid` (`c_uid`) USING BTREE,
  KEY `c_username` (`c_username`) USING BTREE,
  KEY `s_uid` (`s_uid`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=34802846 DEFAULT CHARSET=utf8 COMMENT='sdk游戏每日登陆数表'
/*!50100 PARTITION BY RANGE (year(datadate)*100+month(datadate))
(PARTITION s201801 VALUES LESS THAN (201802) ENGINE = InnoDB,
 PARTITION s201802 VALUES LESS THAN (201803) ENGINE = InnoDB,
 PARTITION s201803 VALUES LESS THAN (201804) ENGINE = InnoDB,
 PARTITION s201804 VALUES LESS THAN (201805) ENGINE = InnoDB,
 PARTITION s201805 VALUES LESS THAN (201806) ENGINE = InnoDB,
 PARTITION s201806 VALUES LESS THAN (201807) ENGINE = InnoDB,
 PARTITION s201807 VALUES LESS THAN (201808) ENGINE = InnoDB,
 PARTITION s201808 VALUES LESS THAN (201809) ENGINE = InnoDB,
 PARTITION s201809 VALUES LESS THAN (201810) ENGINE = InnoDB,
 PARTITION s201810 VALUES LESS THAN (201811) ENGINE = InnoDB,
 PARTITION s201811 VALUES LESS THAN (201812) ENGINE = InnoDB,
 PARTITION s201812 VALUES LESS THAN (201901) ENGINE = InnoDB,
 PARTITION s201901 VALUES LESS THAN (201902) ENGINE = InnoDB,
 PARTITION s201902 VALUES LESS THAN (201903) ENGINE = InnoDB,
 PARTITION s201903 VALUES LESS THAN (201904) ENGINE = InnoDB,
 PARTITION s201904 VALUES LESS THAN (201905) ENGINE = InnoDB,
 PARTITION s201905 VALUES LESS THAN (201906) ENGINE = InnoDB,
 PARTITION s201906 VALUES LESS THAN (201907) ENGINE = InnoDB,
 PARTITION s201907 VALUES LESS THAN (201908) ENGINE = InnoDB,
 PARTITION s201908 VALUES LESS THAN (201909) ENGINE = InnoDB,
 PARTITION s201909 VALUES LESS THAN (201910) ENGINE = InnoDB,
 PARTITION s201910 VALUES LESS THAN (201911) ENGINE = InnoDB,
 PARTITION s201911 VALUES LESS THAN (201912) ENGINE = InnoDB,
 PARTITION s201912 VALUES LESS THAN (202001) ENGINE = InnoDB,
 PARTITION s202001 VALUES LESS THAN (202002) ENGINE = InnoDB,
 PARTITION s202002 VALUES LESS THAN (202003) ENGINE = InnoDB) */;
```

